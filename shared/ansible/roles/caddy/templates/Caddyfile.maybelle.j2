{
    email admin@justinholmes.com
}

# Jenkins (automatic TLS with Let's Encrypt)
{{ domain_name }} {
    reverse_proxy localhost:{{ jenkins_port }} {
        # Tell Jenkins about the original protocol and host
        header_up X-Forwarded-Proto https
        header_up X-Forwarded-Host {{ domain_name }}
    }
}

# Build previews on port 8081 (optional, can deprecate if problematic)
{{ domain_name }}:8081 {
    root * {{ jenkins_home }}/www/builds
    file_server browse
}

# Memory Lane web UI
memory-lane.{{ domain_name }} {
    reverse_proxy localhost:3000
}

# MCP server (for Claude Code memory access)
mcp.{{ domain_name }} {
    reverse_proxy 10.0.0.2:8000
}
